

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>üî¨ Lab 17 Control Systems &#8212; Embedded Computer Systems I</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script src="../_static/tabs.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Assignments/lab17';</script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="üöÄ Final Project" href="project.html" />
    <link rel="prev" title="üî¨ Lab 16 Tachometer" href="lab16.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
    
    
      
    
    
    <img src="../_static/ece382.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../_static/ece382.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    ECE382 Embedded Computer Systems I
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Course Info</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../syllabus.html">üö© Syllabus</a></li>
<li class="toctree-l1"><a class="reference internal" href="../schedule.html">üìÜ Course Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../assembly.html">üîß Assembly</a></li>
<li class="toctree-l1"><a class="reference internal" href="../c_programming.html">üíª C Programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">üôã FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources.html">üíé Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../NoPointer.html">‚ÜóÔ∏è No Pointers in Python?</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Assignments</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="homework1.html">‚úèÔ∏è HW 1 Setting up CCS and Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="homework2.html">‚úèÔ∏è HW 2 Assembly Basic</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab2.html">üî¨ Lab 2 Assembly Basic</a></li>
<li class="toctree-l1"><a class="reference internal" href="homework3.html">‚úèÔ∏è HW 3 Memory</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab3.html">üî¨ Lab 3 Memory</a></li>
<li class="toctree-l1"><a class="reference internal" href="homework4.html">‚úèÔ∏è HW 4 Subroutines</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab4.html">üî¨ Lab 4 Subroutines</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab5.html">üî¨ Lab 5 Software Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab8.html">üî¨ Lab 8 I/O Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab10.html">üî¨ Lab 10 Multithreading</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab11.html">üî¨ Lab 11 Serial Ports</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab12.html">üî¨ Lab 12 Motors</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab13.html">üî¨ Lab 13 Timers</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab14.html">üî¨ Lab 14 Real-Time Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab15.html">üî¨ Lab 15 ADC</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab15_calibration.html">üìà Lab15 Sensor Calibration</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab16.html">üî¨ Lab 16 Tachometer</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">üî¨ Lab 17 Control Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="project.html">üöÄ Final Project</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/USAFA-ECE/ece382" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/USAFA-ECE/ece382/issues/new?title=Issue%20on%20page%20%2FAssignments/lab17.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/Assignments/lab17.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>üî¨ Lab 17 Control Systems</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#objectives">üìå Objectives</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#synopsis">üìú Synopsis</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#procedure">üíª Procedure</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#implement-a-proportional-integral-controller-in-program17-1">Implement a proportional-integral controller in <code class="docutils literal notranslate"><span class="pre">Program17_1</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#demo-program17-1">Demo <code class="docutils literal notranslate"><span class="pre">Program17_1</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#discuss-the-performance-of-your-controller-in-program17-1">Discuss the performance of your controller in <code class="docutils literal notranslate"><span class="pre">Program17_1()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#implement-a-wall-following-controller-in-program17-3">Implement a Wall-Following controller in <code class="docutils literal notranslate"><span class="pre">Program17_3</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#evaluate-controller-performance-in-program17-3">Evaluate controller performance in <code class="docutils literal notranslate"><span class="pre">Program17_3()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#deliverables">üöö Deliverables</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deliverable-1-4-points">Deliverable 1 <strong>[4 Points]</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deliverable-2-8-points">Deliverable 2  <strong>[8 Points]</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deliverable-3-4-points">Deliverable 3 <strong>[4 Points]</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deliverable-4-8-points">Deliverable 4 <strong>[8 Points]</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deliverable-5">Deliverable 5</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="lab-17-control-systems">
<h1>üî¨ Lab 17 Control Systems<a class="headerlink" href="#lab-17-control-systems" title="Permalink to this heading">#</a></h1>
<section id="objectives">
<h2>üìå Objectives<a class="headerlink" href="#objectives" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>Students should be able to integrate input capture measurements from Timer A3 and PWM outputs using Timer A0.</p></li>
<li><p>Students should be able to design a speed control system for the two motors.</p></li>
<li><p>Students should be able to assess the effectiveness of the control system‚Äôs performance.</p></li>
<li><p>Students should be able to implement proportional-integral (PI) controllers that control a wall-following robot.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If debugging is the process of removing software bugs, then programming must be the process of putting them in. -Edsger Dijkstra</p>
</div>
</section>
<section id="synopsis">
<h2>üìú Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this heading">#</a></h2>
<p>Equipped with the knowledge gained from previous labs, we now have the tools to both drive the robot and gather data on various parameters, including the robot‚Äôs speed, distance traveled, and the distance to nearby walls. In this lab, our focus will be on implementing automatic controllers that enable the robot to perform specific tasks, such as driving between walls. These control methods belong to the category known as <strong>proportional-integral-derivative (PID) control</strong> systems.</p>
<p>If the controller does not utilize feedback from the system‚Äôs output to compute the control action, it is referred to as an open-loop control system. Conversely, when the system‚Äôs output is measured and used as feedback in the controller‚Äôs computation, it is termed a closed-loop or feedback control system. The diagram below illustrates both open-loop control (top) and closed-loop control (bottom) systems.</p>
<a class="reference internal image-reference" href="../_images/Lab17_Feedback_Control.png"><img alt="../_images/Lab17_Feedback_Control.png" class="align-center" src="../_images/Lab17_Feedback_Control.png" style="width: 500px;" /></a>
<br>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Control systems are a rich and complex field within engineering spanning: electrical engineering, robotics engineering, aerospace engineering, mechanical engineering, and computer engineering. This module provides a brief introduction.</p>
</div>
</section>
<section id="procedure">
<h2>üíª Procedure<a class="headerlink" href="#procedure" title="Permalink to this heading">#</a></h2>
<section id="implement-a-proportional-integral-controller-in-program17-1">
<h3>Implement a proportional-integral controller in <code class="docutils literal notranslate"><span class="pre">Program17_1</span></code><a class="headerlink" href="#implement-a-proportional-integral-controller-in-program17-1" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p><strong>This is part of Homework 17</strong></p></li>
<li><p>Read the entire code in <code class="docutils literal notranslate"><span class="pre">Program17_1.c</span></code>.</p></li>
<li><p>Complete the <code class="docutils literal notranslate"><span class="pre">Controller()</span></code> function in <code class="docutils literal notranslate"><span class="pre">Program17_1.c</span></code> according to the provided instructions.</p></li>
<li><p>For this homework, implement a proportional-integral controller to drive both motors at the desired speed.</p></li>
<li><p>Copy and paste your <code class="docutils literal notranslate"><span class="pre">Controller()</span></code> code into Gradescope for Homework 17 submission.</p></li>
</ul>
</section>
<section id="demo-program17-1">
<h3>Demo <code class="docutils literal notranslate"><span class="pre">Program17_1</span></code><a class="headerlink" href="#demo-program17-1" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Experimentally determine the best <span class="math notranslate nohighlight">\(K_p\)</span> and <span class="math notranslate nohighlight">\(K_i\)</span> in order to establish a stable system.</p></li>
<li><p>You can change <span class="math notranslate nohighlight">\(K_p\)</span> and <span class="math notranslate nohighlight">\(K_i\)</span> at line 80 in the <code class="docutils literal notranslate"><span class="pre">Program17_1</span></code> file.  You can also fine-tune these values in real-time using the bump switches.</p></li>
<li><p>Record the <span class="math notranslate nohighlight">\(K_p\)</span> and <span class="math notranslate nohighlight">\(K_i\)</span> values and report them in the following section.</p></li>
<li><p>Demonstrate the functionality of <code class="docutils literal notranslate"><span class="pre">Program17_1()</span></code> which showcases a proportional-integral controller responsible for regulating wheel speeds at 50 rpm and 100 rpm in the presence of external disturbance. Make sure to apply the disturbance only after the desired speed has settled.</p></li>
</ul>
<center>
<iframe width="560" height="315" src="https://www.youtube.com/embed/OveTuwviGjA" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</center>
<br>
</section>
<section id="discuss-the-performance-of-your-controller-in-program17-1">
<h3>Discuss the performance of your controller in <code class="docutils literal notranslate"><span class="pre">Program17_1()</span></code><a class="headerlink" href="#discuss-the-performance-of-your-controller-in-program17-1" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Gather data on wheel speed at 100 rpm through the USB/UART port and evaluate the performance of your controller in <code class="docutils literal notranslate"><span class="pre">Program17_1()</span></code>.</p></li>
<li><p>You may find it necessary to adjust the Serial Terminal buffer size, which defaults to 1000 lines. If you require more than 1000 lines, refer to the instructions <a class="reference internal" href="../faq.html#faq-ccs-terminalbuffer"><span class="std std-ref">here</span></a>.</p></li>
<li><p>Provide the step response of the speed controller with an external disturbance, ensuring that disturbance is applied <strong>after the speed has settled at the desired speed</strong>.</p></li>
<li><p>Provide the input signals (PWM duty cycles) applied to the robot.</p></li>
<li><p>Feel free to use any software of your choice, such as MATLAB or MS Excel, for generating figures. Ensure that your plots include labels, units, and legends as needed. Make sure to focus on the region of interest and utilize axis limit functions like <code class="docutils literal notranslate"><span class="pre">plt.ylim</span></code> or <code class="docutils literal notranslate"><span class="pre">plt.xlim</span></code>.</p></li>
<li><p>Discuss the controller‚Äôs performance, taking into consideration factors like response time, overshoot, and steady-state error.  Report the <span class="math notranslate nohighlight">\(K_p\)</span> and <span class="math notranslate nohighlight">\(K_i\)</span> values you used for these plots.</p></li>
<li><p>Execute <code class="docutils literal notranslate"><span class="pre">Program16_2()</span></code> and after the speed is settled, gently holding one of the wheels to introduce a disturbance. Then, run <code class="docutils literal notranslate"><span class="pre">Program17_1()</span></code> with the PI controller you have implemented and repeat the same procedure. Determine which one performs better and provide an explanation for your findings.</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Take this part very seriously. The critical component of your final report will involve analyzing the system‚Äôs performance. Scientific analysis predominantly relies on the data gathered, frequently presented through figures.</p>
</div>
<p><strong>The points allocated to this analysis section are twice as many as those assigned to the demonstration.</strong>  If you have any doubts about the plots you‚Äôve created, don‚Äôt hesitate to seek guidance from one of the instructors.</p>
<ul class="simple">
<li><p>Examples of plots that may not receive full credit include, but are not limited to, the following.</p></li>
</ul>
<a class="reference internal image-reference" href="../_images/Lab17_BadPlotExample1.png"><img alt="../_images/Lab17_BadPlotExample1.png" class="align-center" src="../_images/Lab17_BadPlotExample1.png" style="width: 420px;" /></a>
<br>
<ul class="simple">
<li><p>This plot has no step response.  The initial motor speeds must be 0.</p></li>
</ul>
<a class="reference internal image-reference" href="../_images/Lab17_BadPlotExample2.png"><img alt="../_images/Lab17_BadPlotExample2.png" class="align-center" src="../_images/Lab17_BadPlotExample2.png" style="width: 420px;" /></a>
<br>
<ul class="simple">
<li><p>The x-axis is off by at least an order of magnitude. The whees cannot react at the speed shown in the plot.</p></li>
</ul>
<a class="reference internal image-reference" href="../_images/Lab17_BadPlotExample3.png"><img alt="../_images/Lab17_BadPlotExample3.png" class="align-center" src="../_images/Lab17_BadPlotExample3.png" style="width: 420px;" /></a>
<br>
<ul class="simple">
<li><p>The x-axis unit should be in seconds (s) or milliseconds (ms), not 10 ms or 20 ms. The standard time units in engineering are s, ms, us, ns, and so on.</p></li>
</ul>
</section>
<section id="implement-a-wall-following-controller-in-program17-3">
<h3>Implement a Wall-Following controller in <code class="docutils literal notranslate"><span class="pre">Program17_3</span></code><a class="headerlink" href="#implement-a-wall-following-controller-in-program17-3" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Go to ECE382 Teams &gt; General &gt; Files &gt; Class Materials &gt; SourceFiles.</p></li>
<li><p>Download <code class="docutils literal notranslate"><span class="pre">TimerA2.c</span></code> into your workspace/inc folder using Windows File Explorer (not Code Composer Studio). You should overwrite the existing <code class="docutils literal notranslate"><span class="pre">TimerA2.c</span></code>. <strong>Caution</strong>: It must be in the <code class="docutils literal notranslate"><span class="pre">inc</span></code> folder not in the <code class="docutils literal notranslate"><span class="pre">Lab17_Control</span></code> folder.</p></li>
<li><p>Complete the <code class="docutils literal notranslate"><span class="pre">Controller()</span></code> function in Program17_3.c.</p></li>
<li><p>Develop a proportional controller that guides the robot between two walls using IR sensors.</p></li>
<li><p>Empirically determine the optimal proportional constant and swing values to establish a stable system.</p></li>
<li><p>Determine three distinct <span class="math notranslate nohighlight">\(K_p\)</span> values: one for a slow response, another for a fast response with a slight overshoot (or no overshoot), and the third for a very fast response with significant overshoot.</p></li>
<li><p>Document the <span class="math notranslate nohighlight">\(K_p\)</span> values and provide them in the subsequent section.</p></li>
<li><p>Demo <code class="docutils literal notranslate"><span class="pre">Program17_3</span></code> using the three different <span class="math notranslate nohighlight">\(K_p\)</span> values. <strong>Important Note</strong>: Ensure that your robot is initially positioned at least 3 inches (or 7.5 cm) away from the center line.</p></li>
</ul>
<center>
<iframe width="560" height="315" src="https://www.youtube.com/embed/7S8QNVCjVyo" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</center>
<br>
</section>
<section id="evaluate-controller-performance-in-program17-3">
<h3>Evaluate controller performance in <code class="docutils literal notranslate"><span class="pre">Program17_3()</span></code><a class="headerlink" href="#evaluate-controller-performance-in-program17-3" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Collect data via the USB/UART port to assess the controller‚Äôs performance.</p></li>
<li><p>Provide the step response of the closed-loop system that exhibited a fast response with a slight overshoot (or no overshoot) as identified in Deliverable 3. The step response should depict the system‚Äôs output, which is the distance from the center.</p></li>
<li><p>Provide a plot of the input signal associated with this step response. The input signal applied to the system is the PWM duty cycles in percent.</p></li>
<li><p>Report the <span class="math notranslate nohighlight">\(K_p\)</span> value associate with these plots.</p></li>
<li><p>Utilize software of your choice, such as MATLAB or MS Excel, for generating figures. Ensure that your plots feature labels, units, and legends when necessary. - Assess the controller‚Äôs performance, considering factors like response time, overshoot, and steady-state error.</p></li>
</ul>
</section>
</section>
<section id="deliverables">
<h2>üöö Deliverables<a class="headerlink" href="#deliverables" title="Permalink to this heading">#</a></h2>
<section id="deliverable-1-4-points">
<h3>Deliverable 1 <strong>[4 Points]</strong><a class="headerlink" href="#deliverable-1-4-points" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Demonstrate the functionality of <code class="docutils literal notranslate"><span class="pre">Program17_1()</span></code> which showcases a proportional-integral controller responsible for regulating wheel speeds at 50 rpm and 100 rpm in the presence of external disturbance. Make sure to apply the disturbance only after the desired speed has settled.</p></li>
</ul>
</section>
<section id="deliverable-2-8-points">
<h3>Deliverable 2  <strong>[8 Points]</strong><a class="headerlink" href="#deliverable-2-8-points" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Provide a step response of the speed controller with disturbance, which is applied after the speed settles at the desired speed. Your plots must include labels, units, and legends whenever required.</p></li>
<li><p>Discuss the controller‚Äôs performance, taking into consideration factors like response time, overshoot, and steady-state error.  Report the <span class="math notranslate nohighlight">\(K_p\)</span> and <span class="math notranslate nohighlight">\(K_i\)</span> values you used for these plots.</p></li>
<li><p>Execute <code class="docutils literal notranslate"><span class="pre">Program16_2()</span></code> and after the speed is settled, gently holding one of the wheels to introduce a disturbance. Then, run <code class="docutils literal notranslate"><span class="pre">Program17_1()</span></code> with the PI controller you have implemented and repeat the same procedure. Determine which one performs better and provide an explanation for your findings.</p></li>
</ul>
</section>
<section id="deliverable-3-4-points">
<h3>Deliverable 3 <strong>[4 Points]</strong><a class="headerlink" href="#deliverable-3-4-points" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Demo <code class="docutils literal notranslate"><span class="pre">Program17_3</span></code> using the three different <span class="math notranslate nohighlight">\(K_p\)</span> values. <strong>Important Note</strong>: Ensure that your robot is initially positioned at least 3 inches (or 7.5 cm) away from the center line. Your demo must include three step responses - one for a slow response, another for a fast response with a slight overshoot (or no overshoot), and the third for a very fast response with significant overshoot. Report their <span class="math notranslate nohighlight">\(K_p\)</span> values.</p></li>
</ul>
</section>
<section id="deliverable-4-8-points">
<h3>Deliverable 4 <strong>[8 Points]</strong><a class="headerlink" href="#deliverable-4-8-points" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Collect data via the USB/UART port to assess the controller‚Äôs performance. Provide the <span class="math notranslate nohighlight">\(K_p\)</span> values recorded in the previous section. Provide the best step response from Deliverable 3, along with the input signal (PWM duty cycles) applied to the robot. Report the corresponding <span class="math notranslate nohighlight">\(K_p\)</span> value. Assess the controller‚Äôs performance, considering factors like response time, overshoot, and steady-state error.</p></li>
</ul>
</section>
<section id="deliverable-5">
<h3>Deliverable 5<a class="headerlink" href="#deliverable-5" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p><strong>[5.5 Points]</strong> Ensure that you provide comments in your code for clarity and push your code to your repository using git.</p></li>
</ul>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./Assignments"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="lab16.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">üî¨ Lab 16 Tachometer</p>
      </div>
    </a>
    <a class="right-next"
       href="project.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">üöÄ Final Project</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#objectives">üìå Objectives</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#synopsis">üìú Synopsis</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#procedure">üíª Procedure</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#implement-a-proportional-integral-controller-in-program17-1">Implement a proportional-integral controller in <code class="docutils literal notranslate"><span class="pre">Program17_1</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#demo-program17-1">Demo <code class="docutils literal notranslate"><span class="pre">Program17_1</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#discuss-the-performance-of-your-controller-in-program17-1">Discuss the performance of your controller in <code class="docutils literal notranslate"><span class="pre">Program17_1()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#implement-a-wall-following-controller-in-program17-3">Implement a Wall-Following controller in <code class="docutils literal notranslate"><span class="pre">Program17_3</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#evaluate-controller-performance-in-program17-3">Evaluate controller performance in <code class="docutils literal notranslate"><span class="pre">Program17_3()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#deliverables">üöö Deliverables</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deliverable-1-4-points">Deliverable 1 <strong>[4 Points]</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deliverable-2-8-points">Deliverable 2  <strong>[8 Points]</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deliverable-3-4-points">Deliverable 3 <strong>[4 Points]</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deliverable-4-8-points">Deliverable 4 <strong>[8 Points]</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deliverable-5">Deliverable 5</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Stan Baek
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      ¬© Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>