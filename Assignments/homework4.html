

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>‚úèÔ∏è HW 4 Subroutines &#8212; Embedded Computer Systems I</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script src="../_static/tabs.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Assignments/homework4';</script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="üî¨ Lab 4 Subroutines" href="lab4.html" />
    <link rel="prev" title="üî¨ Lab 3 Memory" href="lab3.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
    
    
      
    
    
    <img src="../_static/ece382.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../_static/ece382.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    ECE382 Embedded Computer Systems I
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Course Info</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../syllabus.html">üö© Syllabus</a></li>
<li class="toctree-l1"><a class="reference internal" href="../schedule.html">üìÜ Course Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../assembly.html">üîß Assembly</a></li>
<li class="toctree-l1"><a class="reference internal" href="../c_programming.html">üíª C Programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">üôã FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources.html">üíé Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../NoPointer.html">‚ÜóÔ∏è No Pointers in Python?</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Assignments</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="homework1.html">‚úèÔ∏è HW 1 Setting up CCS and Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="homework2.html">‚úèÔ∏è HW 2 Assembly Basic</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab2.html">üî¨ Lab 2 Assembly Basic</a></li>
<li class="toctree-l1"><a class="reference internal" href="homework3.html">‚úèÔ∏è HW 3 Memory</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab3.html">üî¨ Lab 3 Memory</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">‚úèÔ∏è HW 4 Subroutines</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab4.html">üî¨ Lab 4 Subroutines</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab5.html">üî¨ Lab 5 Software Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab8.html">üî¨ Lab 8 I/O Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab10.html">üî¨ Lab 10 Multithreading</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab11.html">üî¨ Lab 11 Serial Ports</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab12.html">üî¨ Lab 12 Motors</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab13.html">üî¨ Lab 13 Timers</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab14.html">üî¨ Lab 14 Real-Time Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab15.html">üî¨ Lab 15 ADC</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab15_calibration.html">üìà Lab15 Sensor Calibration</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab16.html">üî¨ Lab 16 Tachometer</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab17.html">üî¨ Lab 17 Control Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="project.html">üöÄ Final Project</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/USAFA-ECE/ece382" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/USAFA-ECE/ece382/issues/new?title=Issue%20on%20page%20%2FAssignments/homework4.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/Assignments/homework4.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>‚úèÔ∏è HW 4 Subroutines</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#objectives">üìå Objectives</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#synopsis">üìú Synopsis</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#arm-architecture-procedure-call-standard-aapcs">ARM Architecture Procedure Call Standard (AAPCS)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#procedure">üíª Procedure</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#setup">Setup</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#execute-power-asm">Execute <code class="docutils literal notranslate"><span class="pre">Power.asm</span></code>.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#execute-hw04-factorialmain-c">Execute <code class="docutils literal notranslate"><span class="pre">HW04_FactorialMain.c</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#complete-hw04-factorial-asm">Complete <code class="docutils literal notranslate"><span class="pre">HW04_Factorial.asm</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#deliverables">üöö Deliverables</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deliverable-1">Deliverable 1</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deliverable-2">Deliverable 2</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="hw-4-subroutines">
<h1>‚úèÔ∏è HW 4 Subroutines<a class="headerlink" href="#hw-4-subroutines" title="Permalink to this heading">#</a></h1>
<section id="objectives">
<h2>üìå Objectives<a class="headerlink" href="#objectives" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>Build and debug <code class="docutils literal notranslate"><span class="pre">Example05_Power</span></code> project.</p></li>
<li><p>Students should be able to write assembly procedures (also called subroutines or functions) that comply with the AAPCS.</p></li>
<li><p>Students should be able to write assembly conditional instructions and arithmetic operations.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In order to understand recursion, one must first understand recursion.</p>
</div>
</section>
<section id="synopsis">
<h2>üìú Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this heading">#</a></h2>
<p>This homework is an opportunity to learn about subroutines (functions or procedures) in Assembly and to apply that knowledge to two subroutines for calculating factorials.</p>
<p>The first part of this homework is to build and debug the <code class="docutils literal notranslate"><span class="pre">Example05_Power</span></code> project and answer questions in Gradescope. Please read the code and comments carefully as they will help you write the factorial functions in the second part of this homework.</p>
<p>For the second part of this homework, you will write two subroutines calculating <strong>factorials</strong> of <em>non-negative</em> integers. One of them is an iterative function that loops to repeat a block of the code and the other is a recursive function that calls itself to repeat the code.</p>
<p>As all of you are already familiar with, the factorial <span class="math notranslate nohighlight">\(n\)</span> is the product of <span class="math notranslate nohighlight">\(n\)</span> with the next smaller factorial, <span class="math notranslate nohighlight">\((n-1)!\)</span>, i.e.,</p>
<div class="amsmath math notranslate nohighlight">
\[\begin{eqnarray*}
  n! &amp;=&amp; n \times (n-1)! \\
     &amp;=&amp; n \times (n-1) \times (n-2) ! \\
     &amp;=&amp; n \times (n-1) \times (n-2) \times \cdots \times 1 
\end{eqnarray*}\]</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Why is <span class="math notranslate nohighlight">\(0!=1\)</span>? From the definition of factorial, we can find <span class="math notranslate nohighlight">\((n-1)! = n! / n\)</span>.  When <span class="math notranslate nohighlight">\(n=1\)</span>, we have <span class="math notranslate nohighlight">\(0! = 1! / 1 = 1\)</span>.</p>
</div>
<section id="arm-architecture-procedure-call-standard-aapcs">
<h3>ARM Architecture Procedure Call Standard (AAPCS)<a class="headerlink" href="#arm-architecture-procedure-call-standard-aapcs" title="Permalink to this heading">#</a></h3>
<p>The Arm architecture places few restrictions on how <em>general</em> purpose registers are used. If you want your code to interact with code that is written by someone else, or with code that is produced by a compiler, then you need to agree rules for register usage. For the Arm architecture, these rules are called the Procedure Call Standard (PCS).</p>
<p>The PCS specifies:</p>
<ul class="simple">
<li><p>Which registers are used to pass arguments into the function.</p></li>
<li><p>Which registers are used to return a value to the function doing the calling, known as the caller.</p></li>
<li><p>Which registers the function being called, which is known as the callee, can corrupt.</p></li>
<li><p>Which registers the callee cannot corrupt.</p></li>
</ul>
<p>reference: <a class="reference external" href="https://developer.arm.com/documentation/102374/0100/Procedure-Call-Standard">https://developer.arm.com/documentation/102374/0100/Procedure-Call-Standard</a></p>
<p>To elaborate on the standard:</p>
<ul class="simple">
<li><p>If there is one input parameter, it is passed in R0; two, R0-R1; three, R0-R2; four, R0-R3</p></li>
<li><p>If there is an output parameter, it is returned in R0</p></li>
<li><p>Functions can modify R0-R3, and R12 freely</p></li>
<li><p>If a function wishes to use R4-R11 it must save and restore them using the stack.</p></li>
<li><p>If a function calls another, then it must save and restore LR</p></li>
<li><p>Functions must balance the stack</p></li>
</ul>
<p>The entire AAPCS can be found <a href="https://github.com/ARM-software/abi-aa/releases/download/2022Q1/aapcs32.pdf" target="_blank">here</a></p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>It‚Äôs important to ensure that your assembly code complies with the AAPCS (ARM Architecture Procedure Call Standard). The AAPCS defines the standard for how subroutines are called and how registers are used in ARM assembly language.</p>
<p>The AAPCS is important because it ensures that code written by different people can be used together without any issues. It also makes it easier to write code that can be reused in different projects.</p>
<p>If you‚Äôre not sure whether your code complies with the AAPCS, you can check the ARM documentation or ask instructors for help.</p>
</div>
</section>
</section>
<section id="procedure">
<h2>üíª Procedure<a class="headerlink" href="#procedure" title="Permalink to this heading">#</a></h2>
<section id="setup">
<h3>Setup<a class="headerlink" href="#setup" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Connect the LaunchPad to your computer via the provided USB cable.</p></li>
<li><p>Open Code Composer Studio (CCS) and select your workspace.</p></li>
<li><p>Ensure your Project Explorer is open on the left of the CCS screen. Otherwise, select View &gt; Project Explorer.</p></li>
</ul>
</section>
<section id="execute-power-asm">
<h3>Execute <code class="docutils literal notranslate"><span class="pre">Power.asm</span></code>.<a class="headerlink" href="#execute-power-asm" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Open <code class="docutils literal notranslate"><span class="pre">PowerMain.c</span></code> in the the <code class="docutils literal notranslate"><span class="pre">Example05_Power</span></code> project.</p></li>
<li><p>Uncomment lines 88-89 if they are commented out and ensure lines 90-91 are commented out. They should look like the following.</p></li>
</ul>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="n">Program1</span><span class="p">();</span>
<span class="w">    </span><span class="n">Program2</span><span class="p">();</span>
<span class="w">    </span><span class="c1">// Program3();</span>
<span class="w">    </span><span class="c1">// Program4();</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Please read carefully <code class="docutils literal notranslate"><span class="pre">power1</span></code> and <code class="docutils literal notranslate"><span class="pre">power2</span></code> functions. While not required, you can step through the code to understand what each line does.</p></li>
<li><p>Comment out lines 88-89 and uncomment lines 90-91. They should look like the following.</p></li>
</ul>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="c1">// Program1();</span>
<span class="w">    </span><span class="c1">// Program2();</span>
<span class="w">    </span><span class="n">Program3</span><span class="p">();</span>
<span class="w">    </span><span class="n">Program4</span><span class="p">();</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Program3()</span></code> and <code class="docutils literal notranslate"><span class="pre">Program4()</span></code> call assembly functions <code class="docutils literal notranslate"><span class="pre">PowerASM1</span></code> and <code class="docutils literal notranslate"><span class="pre">PowerASM2</span></code>, respectively.</p></li>
<li><p>Build the code and run the debugger.</p></li>
<li><p>Ensure the <code class="docutils literal notranslate"><span class="pre">Expression</span></code>, <code class="docutils literal notranslate"><span class="pre">Registers</span></code>, and <code class="docutils literal notranslate"><span class="pre">Memory</span> <span class="pre">Browser</span></code> tabs are visible.</p></li>
<li><p>As you step through the code, <strong>CAREFULLY READ THE CODE AND ENSURE YOU UNDERSTAND WHAT EACH LINE DOES</strong> as it will help you write two factorial functions in the second part of this homework.</p></li>
<li><p>Step through the program to answer the questions in Gradescope.</p></li>
</ul>
</section>
<section id="execute-hw04-factorialmain-c">
<h3>Execute <code class="docutils literal notranslate"><span class="pre">HW04_FactorialMain.c</span></code><a class="headerlink" href="#execute-hw04-factorialmain-c" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Open the <code class="docutils literal notranslate"><span class="pre">HW04_Factorial</span></code> project by double-clicking it.</p></li>
<li><p>Open <code class="docutils literal notranslate"><span class="pre">HW04_FactorialMain.c</span></code> in the <code class="docutils literal notranslate"><span class="pre">HW04_Factorial</span></code> project</p></li>
<li><p>Please read the code and comments carefully.  You need to understand the code before writing the equivalent assembly code.</p></li>
<li><p>Execute the code and observe the contents of <code class="docutils literal notranslate"><span class="pre">result1</span></code> and <code class="docutils literal notranslate"><span class="pre">results2</span></code> in the <code class="docutils literal notranslate"><span class="pre">Expressions</span></code> tab.</p></li>
<li><p>Provide a screenshot showing the contents of <code class="docutils literal notranslate"><span class="pre">result1</span></code> and <code class="docutils literal notranslate"><span class="pre">result2</span></code> in the Expressions tab. You must <strong>expand the array to show the individual values</strong> in the array.</p></li>
</ul>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>The yellow arrows are for stepping through the C code and the green arrows are for the Assembly code.</p>
</div>
</section>
<section id="complete-hw04-factorial-asm">
<h3>Complete <code class="docutils literal notranslate"><span class="pre">HW04_Factorial.asm</span></code><a class="headerlink" href="#complete-hw04-factorial-asm" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Exclude <code class="docutils literal notranslate"><span class="pre">HW04_FactorialMain.c</span></code> from Build and include <code class="docutils literal notranslate"><span class="pre">HW04_Factorial.asm</span></code>.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">main</span></code> function is already written for you, but it does not mean you don‚Äôt have to understand the code. Please read carefully the code and comments before writing your code in <code class="docutils literal notranslate"><span class="pre">fact_iter</span></code> and <code class="docutils literal notranslate"><span class="pre">fact_rec</span></code>.</p></li>
<li><p>Complete <code class="docutils literal notranslate"><span class="pre">fact_iter</span></code> and <code class="docutils literal notranslate"><span class="pre">fact_rec</span></code> in <code class="docutils literal notranslate"><span class="pre">HW04_Factorial.asm</span></code>.</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">MUL</span></code> instruction for multiplication. For example, Use <code class="docutils literal notranslate"><span class="pre">MUL</span> <span class="pre">R0,</span> <span class="pre">R1,</span> <span class="pre">R2</span></code> for <code class="docutils literal notranslate"> <span class="pre">R0</span> <span class="pre">&lt;=</span> <span class="pre">R1</span> <span class="pre">*</span> <span class="pre">R2</span></code> or <code class="docutils literal notranslate"><span class="pre">MUL</span> <span class="pre">R0,</span> <span class="pre">R1</span></code> for <code class="docutils literal notranslate"> <span class="pre">R0</span> <span class="pre">&lt;=</span> <span class="pre">R0</span> <span class="pre">*</span> <span class="pre">R1</span></code>.</p></li>
</ul>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Your assembly code must comply with the AAPCS.</p>
</div>
</section>
</section>
<section id="deliverables">
<h2>üöö Deliverables<a class="headerlink" href="#deliverables" title="Permalink to this heading">#</a></h2>
<section id="deliverable-1">
<h3>Deliverable 1<a class="headerlink" href="#deliverable-1" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Build and debug the <code class="docutils literal notranslate"><span class="pre">Example05_Power</span></code> project.</p></li>
<li><p>Step through the program to answer the questions in Gradescope.</p></li>
</ul>
</section>
<section id="deliverable-2">
<h3>Deliverable 2<a class="headerlink" href="#deliverable-2" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Execute <code class="docutils literal notranslate"><span class="pre">HW04_FactorialMain.c</span></code> and provide a screenshot showing the contents of <code class="docutils literal notranslate"><span class="pre">result1</span></code> and <code class="docutils literal notranslate"><span class="pre">result2</span></code> in the Expressions tab. You must <strong>expand the array to show the individual values</strong> in the array.</p></li>
<li><p>Complete the <code class="docutils literal notranslate"><span class="pre">fact_iter</span></code> subroutine in <code class="docutils literal notranslate"><span class="pre">HW04_Factorial.asm</span></code>.  Provide a screenshot showing the contents of <code class="docutils literal notranslate"><span class="pre">Res1</span></code> after execution of the code. Use Memory Browser and change the encoding style to the <strong>correct format</strong> that everyone can easily understand your result. Your result should be identical to the one from <code class="docutils literal notranslate"><span class="pre">HW04_FactorialMain.c</span></code>.</p></li>
<li><p>Complete the <code class="docutils literal notranslate"><span class="pre">fact_rec</span></code> subroutine in <code class="docutils literal notranslate"><span class="pre">HW04_Factorial.asm</span></code>. Provide a screenshot showing the contents of <code class="docutils literal notranslate"><span class="pre">Res2</span></code> after execution of the code. Use Memory Browser and change the encoding style to the <strong>correct format</strong> that everyone can easily understand your result.
Your result should be identical to the one from <code class="docutils literal notranslate"><span class="pre">HW04_FactorialMain.c</span></code>.</p></li>
<li><p>Push your code to Bitbucket.</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Your code <strong>must</strong> be compilable.  If your code throws any compile errors, you will get <strong>a grade of 0</strong> for the coding part.</p>
</div>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./Assignments"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="lab3.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">üî¨ Lab 3 Memory</p>
      </div>
    </a>
    <a class="right-next"
       href="lab4.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">üî¨ Lab 4 Subroutines</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#objectives">üìå Objectives</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#synopsis">üìú Synopsis</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#arm-architecture-procedure-call-standard-aapcs">ARM Architecture Procedure Call Standard (AAPCS)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#procedure">üíª Procedure</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#setup">Setup</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#execute-power-asm">Execute <code class="docutils literal notranslate"><span class="pre">Power.asm</span></code>.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#execute-hw04-factorialmain-c">Execute <code class="docutils literal notranslate"><span class="pre">HW04_FactorialMain.c</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#complete-hw04-factorial-asm">Complete <code class="docutils literal notranslate"><span class="pre">HW04_Factorial.asm</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#deliverables">üöö Deliverables</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deliverable-1">Deliverable 1</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deliverable-2">Deliverable 2</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Stan Baek
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      ¬© Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>